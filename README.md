# Дипломный проект по профессии «Веб-разработчик»
## Cервер для информационной системы администрирования залов, сеансов и для сайта онлайн бронирования билетов в кинотеатр.
***
## Решенные задачи
* Разработана серверная часть системы для для администрирования залов, сеансов и предварительного бронирования билетов.
* Результат работы содержится в данном git-репозитории.

## Сущности

1. **Кинозал**. Помещение, в котором демонстрируются фильмы. Режим работы определяется расписанием на день. Зал — прямоугольное помещение, состоит из N х M различных зрительских мест.
2. **Зрительское место**. Место в кинозале. Есть два вида: VIP и обычное.
3. **Фильм**. Информация о фильме заполняется администратором. Фильм связан с сеансом в кинозале.
4. **Сеанс**. Временной промежуток, во время которого в кинозале будет показываться фильм. На сеанс могут быть забронированы билеты.
5. **Билет**. QR-код c уникальным кодом бронирования, в котором обязательно указаны место, ряд, сеанс. Билет действителен строго на свой сеанс.

## Роли пользователей системы
* Администратор — авторизованный пользователь.
* Гость — неавторизованный посетитель сайта.

### Возможности администратора
* Создание или редактирование залов.
* Создание или редактирование списка фильмов.
* Настройка цен.
* Создание или редактирование расписания сеансов фильмов.

### Возможности гостя
* Просмотр расписания.
* Просмотр списка фильмов.
* Выбор места в кинозале.
* Бронирование билета на конкретную дату.

## Реализация проекта
* Проект реализован в виде CRUD API на базе Laravel.

## Технологии, использованные в проекте
* PHP 8.1.7.
* Laravel 9.1.10 - фреймворк для создания серверной части приложения.
* Laravel Sanctum - пакет для осуществления аутентификации (Token API). 
* SQLite - СУБД для хранения данных приложения.
* [Phpqrcode](http://phpqrcode.sourceforge.net/) - библиотека для генерации QR-кода.
<p align="center"><a href="https://laravel.com" target="_blank"><img src="https://raw.githubusercontent.com/laravel/art/master/logo-lockup/5%20SVG/2%20CMYK/1%20Full%20Color/laravel-logolockup-cmyk-red.svg" width="400"></a></p>

## Инструкция по запуску проекта
1. Клонируйте репозиторий:
   `git clone https://github.com/Antis85/cinema-server.git`
2. Перейдите в каталог проекта: `cd cinema-server`
3. Убедитесь, что установлен пакет [Composer](https://getcomposer.org/): `composer -v`
4. Установите зависимости `composer install`
5. Файл `.env.example` переименуйте в `.env` и произведите настройку базы данных и других параметров.
6. Для настройки на работу с SQLite в файле .env нужно:
    * указать тип DB_CONNECTION=sqlite
    * в папке datebase создать файл с расширением .sqlite (или взять готовый)
    * указать абсолютный путь к файлу .sqlite (в windows необходимо экранировать обратный слеш)
7. Выполните команду `php artisan key:generate`
8. В файле `php.ini` раскоментируйте следующие строки:
```
extension=fileinfo
extension=gd
extension=pdo_sqlite
extension=openssl
extension=php_mbstring.dll
```
9. Для выдачи статики, выполните команду `php artisan storage:link`
10. Выполните миграции для создания базы данных и заполнения предустановленными значениями: `php artisan migrate:fresh --seed`
11. Запустите приложение: `php artisan serve`
12. Далее можно использовать приложения [клиента](https://github.com/Antis85/cinema-client) или [администратора](https://github.com/Antis85/cinema-admin).
